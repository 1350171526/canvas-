<!DOCTYPE html>
<html lang="zh_CN">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<canvas id="canvas" width="500" height="500"></canvas>
	</body>
	<script>
		// 获取画布
		function animate(time) {
			const now = new Date();
			const sec = now.getSeconds();
			const min = now.getMinutes();
			let hr = now.getHours();
			hr = hr > 12 ? hr - 12 : hr;
			var ctx = document.getElementById("canvas").getContext("2d");
			ctx.save();
			//每一帧都要清除上一帧的动画
			ctx.clearRect(0, 0, 500, 500);
			ctx.translate(250, 250); //坐标轴中心点移动到中心
			ctx.rotate(-Math.PI / 2); // 旋转X轴

			ctx.strokeStyle = "black";
			ctx.lineWidth = 5;
			ctx.lineCap = "round";
			ctx.save();
			for (let i = 0; i < 12; i++) {
				ctx.beginPath();
				ctx.rotate(Math.PI / 6);
				ctx.moveTo(100, 0);
				ctx.lineTo(120, 0);
				ctx.stroke();
			}
			ctx.restore();
			ctx.lineWidth = 3;
			for (let i = 0; i < 60; i++) {
				ctx.beginPath();
				ctx.rotate(Math.PI / 30);
				ctx.moveTo(110, 0);
				ctx.lineTo(120, 0);
				ctx.stroke();
			}
			ctx.restore();

			ctx.save();
			ctx.translate(250, 250); //坐标轴中心点移动到中心
			ctx.lineWidth = 14;
			ctx.beginPath();
			ctx.rotate(
				hr * (Math.PI / 6) + (Math.PI / 360) * min + (Math.PI / 21600) * sec
			);
			ctx.moveTo(0, 20);
			ctx.lineTo(0, -80);
			ctx.stroke();
			ctx.restore();

			ctx.save();
			ctx.translate(250, 250); //坐标轴中心点移动到中心
			ctx.rotate((Math.PI / 30) * min + (Math.PI / 1800) * sec);
			ctx.lineWidth = 14;
			ctx.beginPath();
			ctx.moveTo(0, 28);
			ctx.lineTo(0, -105);
			ctx.stroke();
			ctx.restore();

			ctx.save();
			ctx.translate(250, 250); //坐标轴中心点移动到中心
			ctx.rotate((Math.PI * sec) / 30);
			ctx.strokeStyle = "#D40000";
			ctx.fillStyle = "#D40000";
			ctx.lineWidth = 6;
			ctx.beginPath();
			ctx.moveTo(0, 30);
			ctx.lineTo(0, -100);
			ctx.stroke();

			ctx.beginPath();
			ctx.arc(0, 0, 11, 0, Math.PI * 2, true);
			ctx.fill();
			ctx.fillStyle = "rgba(0,0,0,0)";
			ctx.arc(0, 0, 3, 0, Math.PI * 2, true);
			ctx.fill();

			ctx.restore();
			ctx.restore();
			window.requestAnimationFrame(animate);
		}
		// 开始动画
		window.requestAnimationFrame(animate);
	</script>
	<style></style>
</html>
